# ?Form

Формы в html представляют один из способов для ввода и отправки данных. Все поля формы помещаются между тегами `<form>` и `</form>`.

~~~
<form method="post" action="http://localhost:8080/login.php">
  <input name="login"/>
  <input type="submit" value="Войти" />
</form>
~~~

Для настройки форм у элемента `form` определены следующие атрибуты:

* `method`: устанавливает метод отправки данных на сервер. Допустимы два значения: `post` и `get`.
Значение `post` позволяет передать данные на веб-сервер через специальные заголовки(более безопасно). А значение `get` позволяет передать данные через строку запроса.
* `action`: устанавливает адрес, на который передаются данные формы
* `enctype`: устанавливает тип передаваемых данных. Он свою очередь может принимать следующие значения:
  * `application/x-www-form-urlencoded`: кодировка отправляемых данных по умолчанию
  * `multipart/form-data`: эта кодировка применяется при отправке файлов
  * `text/plain`: эта кодировка применяется при отправке простой текстовой информации

С помощью атрибута `autocomplete` можно включить и отключить автодополнение:

~~~
<form method="post" autocomplete="off" action="http://localhost:8080/login.php">
  <input name="login" />
  <input name="password" />
  <input type="submit" value="Войти" />
</form>
~~~

Наиболее распространенным элементом ввода является элемент `input`. Однако реальное действие этого элемента зависит от того, какое значение установлено у его атрибута `type`. А он может принимать следующие значения:

* `text`: обычное текстовое поле
* `password`: тоже текстовое поле, только вместо вводимых символов отображаются звездочки, поэтому в основном используется для ввода пароля
* `radio`: радиокнопка или переключатель. Из группы радиокнопок можно выбрать только одну
* `checkbox`: элемент флажок, который может находиться в отмеченном или неотмеченном состоянии
* `hidden`: скрытое поле. Скрытое поле позволяет веб-разработчикам включать данные, которые пользователи не могут видеть или изменять при отправке формы.

~~~
<input type="hidden" name="important" value="information">
~~~

* `submit`: кнопка отправки формы
* `color`: поле для ввода цвета
* `date`: поле для ввода даты
* `datetime`: поле для ввода даты и времени с учетом часового пояса
* `datetime-local`: поле для ввода даты и времени без учета часового пояса
* `email`: поле для ввода адреса электронной почты
* `month`: поле для ввода года и месяца
* `number`: поле для ввода чисел
* `range`: ползунок для выбора числа из некоторого диапазона
* `tel`: поле для ввода телефона
* `time`: поле для ввода времени
* `week`: поле для ввода года и недели
* `url`: поле для ввода адреса `url`
* `file`: поле для выбора отправляемого файла
* `image`: создает кнопку в виде картинки

Кроме элемента `input` в различных модификациях есть еще небольшой набор элементов, которые также можно использовать на форме:

* `button`: создает кнопку
* `select`: выпадающий список
* `label`: создает метку, которая отображается рядом с полем ввода
* `textarea`: многострочное текстовое поле

У всех элементов ввода можно установить атрибуты `name` и `value`. Эти атрибуты имеют важное значение. По атрибуту `name` мы можем идентифицировать поле ввода, а атрибут `value` позволяет установить значение поля ввода.

### Кнопки

Кнопки представлены элементом `button`. Они обладают широкими возможностями по конфигурации. Так, в зависимости от значения атрибута `type` мы можем создать различные типы кнопок:

* `submit`: кнопка, используемая для отправки формы
* `reset`: кнопка сброса значений формы
* `button`: кнопка без какого-либо специального назначения

Если кнопка используется для отправки формы, то есть у нее установлен атрибут `type="submit"`, то мы можем задать у нее ряд дополнительных атрибутов:

* `form`: определяет форму, за которой закреплена кнопка отправки
* `formaction`: устанавливает адрес, на который отправляется форма. Если у элемента `form` задан атрибут `action`, то он переопределяется
* `formenctype`: устанавливает формат отправки данных. Если у элемента `form` установлен атрибут `enctype`, то он переопределяется
* `formmethod`: устанавливает метод отправки формы (`post` или `get`). Если у элемента `form` установлен атрибут method, то он переопределяется

Кроме элемента `button` для создания кнопок можно использовать элемент `input`, у которого атрибут равен `submit` или `reset`. Например:

~~~
<input type="reset" value="Отмена" />
~~~

`<button>` может иметь содержимое, отличное от текста, например изображение или вложенные элементы HTML, а `<input>` не может.

Элемент `input` с атрибутом `type="image"` позволяет использовать в качестве кнопки изображение.

~~~
<input type="image" src="search.png" name="submit" />
~~~

### Текстовые поля

С помощью ряда дополнительных атрибутов можно настроить текстовое поле:

* `dir`: устанавливает направление текста
* `list`: устанавливает список подсказок для ввода в поле
* `maxlength`: максимально допустимое количество символов в текстовом поле
* `pattern`: определяет шаблон, которому должен соответствовать вводимый текст
* `placeholder`: устанавливает текст, который по умолчанию отображается в текстовом поле
* `readonly`: делает текстовом поле доступным только для чтения
* `required`: указывает, что текстовое поле обязательно должно иметь значение
* `size`: устанавливает ширину текстового поля в видимых символах
* `value`: устанавливает значение по умолчанию в текстовом поле

Среди атрибутов текстового поля также следует отметить такой атрибут как `list`. Он содержит ссылку на элемент `datalist`, который определяет набор значений, появляющихся в виде подсказки при вводе в текстовое поле.

~~~
<form>
  <p><input list="phonesList" type="text" name="model" placeholder="Введите модель" /></p>
  <p>
    <button type="submit">Отправить</button>
  </p>
</form>
<datalist id="phonesList">
  <option value="iPhone 6S" label="54000"/>
  <option value="Lumia 950">35000</option>
  <option value="Nexus 5X"/>
</datalist>
~~~

Сам элемент `datalist` с помощью вложенных элементов `option` определяет элементы списка. И при вводе в текстовое поле этот список отображается в виде подсказки.

Для создания полей поиска предназначен элемент `input` с атрибутом `type="search"`. Формально он представляет собой простое текстовое поле.

Для ввода пароля используется элемент `input` с атрибутом `type="password"`. Его отличительной чертой является то, что вводимые символы маскируются точками.

### Метки и автофокус

Вместе с полями ввода нередко используются метки, которые представлены элементом `label`. Метки создают аннотацию или заголовок к полю ввода, указывают, для чего это поле предназначено.

Для связи с полем ввода метка имеет атрибут `for`, который указывает на `id` поля ввода:

~~~
<label for="login">Логин: </label>
<input type="text" id="login" name="login" />
~~~

Привязать `label` к `input` можно еще и таким способом:

~~~
<label>
  <input type="checkbox">
  Хочу изучать HTML
</label>
~~~

Также мы можем установить автофокус по умолчанию на какое-либо поле ввода. Для этого применяется атрибут `autofocus`:

~~~
<input type="text" autofocus id="login" name="login" />
~~~

### Элементы для ввода чисел

Для ввода чисел используется элемент `input` с атрибутом `type="number"`. Он создает числовое поле, которое мы можем настроить с помощью следующих атрибутов:

* `min`: минимально допустимое значение
* `max`: максимально допустимое значение
* `readonly`: доступно только для чтения
* `required`: указывает, что данное поле обязательно должно иметь значение
* `step`: значение, на которое будет увеличиваться число в поле
* `value`: значение по умолчанию

Как и в случае с текстовым полем мы можем здесь прикрепить список `datalist` с диапазоном возможных значений.

Для создания ползунка применяется элемент `input` с атрибутом `type="range"`. Во многом ползунок похож на простое поле для ввода чисел. Он имеет атрибуты `min`, `max`, `step` и `value`:

~~~
<input type="range" step="1" min="0" max="100" value="10" id="price" name="price"/>
~~~

### Флажки и переключатели

Флажок представляет элемент, который может находиться в двух состояниях: отмеченном и неотмеченном. Флажок создается с помощью элемента `input` с атрибутом `type="checkbox"`:

~~~
<input type="checkbox" name="dotnet"/>
~~~

Атрибут `checked` позволяет установить флажок в отмеченное состояние.

Переключатели или радиокнопки похожи на флажки, они также могут находиться в отмеченном или неотмеченном состоянии. Только для переключателей можно создать одну группу, в которой одновременно можно выбрать только один переключатель. Например:

~~~            
<h2>Выберите технологию</h2>
<p>
  <input type="radio" value="html5" checked name="tech"/>HTML5
</p>
<p>
  <input type="radio" value="net" name="tech"/>.NET
</p>
<p>
  <input type="radio" value="java" name="tech"/>Java
</p>
<p>
  <button type="submit">Отправить</button>
</p>
~~~

Для создания радиокнопки надо указать атрибут `type="radio"`. И теперь другой атрибут `name` указывает не на имя элемента, а на имя группы, к которой принадлежит элемент-радиокнопка. `Name` является обязательным атрибутом, значением которого является имя. Данное имя должно быть одинаковым у всей группы радиокнопок. Без этого атрибута будет возможно выбрать все значения сразу, так как браузер не будет видеть связи между ними.

Важное значение играет атрибут `value`, который при отправке формы позволяет серверу определить, какой именно переключатель был отмечен.

### Элементы для ввода цвета, `url`, `email`, телефона

За установку цвета в HTML5 отвечает специальный элемент `input` с типом `color`:

~~~
<input type="color" id="favcolor" name="favcolor" />
~~~

Значением этого элемента будет числовой шестнадцатеричный код выбранного цвета.

С помощью элемента `datalist` мы можем задать набор цветов, из который пользователь может выбрать нужный:

~~~
<label for="favcolor">Выберите цвет</label>
<input type="color" list="colors" id="favcolor" name="favcolor" />
<datalist id="colors">
  <option value="#0000FF" label="blue">
  <option value="#008000" label="green">
  <option value="#ff0000" label="red">
</datalist>
~~~

Ряд полей `input` предназначены для ввода таких данных, как `url`, адреса электронной почты и телефонного номера. Они однотипны и во многом отличаются только тем, что для атрибута `type` принимают соответственно значения `email`, `tel` и `url`.

Для их настройки мы можем использовать те же атрибуты, что и для обычного текстового поля.

~~~
<input type="email" placeholder="user@gmail.com" id="email" name="email"/>
<input type="tel" placeholder="(XXX)-XXX-XXXX" id="phone" name="phone"/>
<input type="url" id="url" name="url"/>
~~~

Основное преимущество подобных полей ввода перед обычными текстовыми полями состоит в том, что поля ввода для `email`, `url`, телефона для проверки ввода используют соответствующий шаблон.

### Элементы для ввода даты и времени

Для работы с датами и временем в HTML5 предназначено несколько типов элементов `input`:

* `datetime-local`: устанавливает дату и время
* `date`: устанавливает дату
* `month`: устанавливает текущий месяц и год
* `time`: устанавливает время
* `week`: устанавливает текущую неделю

~~~
<label for="month">Месяц: </label>
<input type="month" id="month" name="month"/>
~~~

При использовании этих элементов надо учитывать, что Firefox поддерживает только элементы `date` и `time`, для остальных создаются обычные текстовые поля. А IE11 и вовсе не поддерживают эти элементы.

### Отправка файлов

За выбор файлов на форме отвечает элемент `input` с атрибутом `type="file"`:

~~~
<form enctype="multipart/form-data" method="post" action="http://localhost:8080/postfile.php">
  <p>
    <input type="file" name="file" multiple />
  </p>
  <p>
    <input type="submit" value="Отправить" />
  </p>
</form>
~~~

При нажатии на кнопку "Выберите файл" открывается диалоговое окно для выбора файла. А после выбора рядом с кнопкой отображается имя выбранного файла.

Важно отметить, что для отправки файла на сервер форма должна иметь атрибут `enctype="multipart/form-data"`.

С помощью ряда атрибутов мы можем дополнительно настроить элементы выбора файла:

* `accept`: устанавливает тип файл, которые допустимы для выбора
* `multiple`: позволяет выбирать множество файлов
* `required`: требует обязательной установки файла

### Список `select`

Элемент `select` создает список. В зависимости от настроек это может быть выпадающий список для выбора одного элемента, либо раскрытый список, в котором можно выбрать сразу несколько элементов.

~~~
<select id="phone" name="phone">
  <option value="iphone 6s">iPhone 6S</option>
  <option value="lumia 950">Lumia 950</option>
  <option value="nexus 5x">Nexus 5X</option>
  <option value="galaxy s7">Galaxy S7</option>
</select>
~~~

Внутрь элемента `select` помещаются элементы `option` - элементы списка. Каждый элемент `option` содержит атрибут `value`, который хранит значение элемента. При этом значение элемента `option` не обязательно должно совпадать с отображаемым им текстом.

С помощью атрибута `selected` мы можем установить выбранный по умолчанию элемент - это необязательно должен быть первый элемент в списке:

~~~
<option value="nexus 5x" selected>Nexus 5X</option>
~~~

С помощью другого атрибута `disabled` можно запретить выбор определенного элемента. Как правило, элементы с этим атрибутом служат для создания заголовков.

Для создания списка с множественным выбором к элементу `select` надо добавить атрибут `multiple`:

~~~
<select multiple id="phone" name="phone">
  ...
</select>
~~~

Делается выбор нескольких элементов с помощью зажатия кнопки `ctrl` и клика мышки по полям, которые мы хотим выбрать.

`Select` также позволяет группировать элементы с помощью тега `<optgroup>`:

~~~
<select id="phone" name="phone">
  <optgroup label="Apple">
    <option value="iphone 6s">iPhone 6S</option>
    <option value="iphone 6s plus">iPhone 6S Plus</option>
    <option value="iphone 5se">iPhone 5SE</option>
  </optgroup>
  <optgroup label="Microsoft">
    <option value="lumia 950">Lumia 950</option>
    <option value="lumia 950 xl">Lumia 950 XL</option>
    <option value="lumia 650">Lumia 650</option>
  </optgroup>
</select>
~~~

### Textarea

Элемент `<input type="text" />` позволяет создавать простое однострочное текстовое поле. Однако возможностей этого элемента по вводу текста бывает недостаточно, и в этой ситуации мы можем использовать многострочное текстовое поле, представленное элементом `textarea`:

~~~
<textarea id="comment" name="comment" placeholder="Написать комментарий" cols="30" rows="7"></textarea>
~~~

С помощью дополнительных атрибутов `cols` и `rows` можно задать соответственно количество столбцов и строк.

Разница между атрибутами `readonly` и `disabled` для `<textarea>` заключается в том, что `readonly` позволяет щелкнуть `<textarea>`, а `disabled` предотвращает любое взаимодействие с элементом управления.

В HTML у `textarea` нет атрибута `value`.

### Валидация форм

Для создания валидации у элементов форм HTML5 используется ряд атрибутов:

* `required`: требует обязательного ввода значения. Для элементов `textarea`, `select`, `input` (с типом `text`, `password`, `checkbox`, `radio`, `file`, `datetime-local`, `date`, `month`, `time`, `week`, `number`, `email`, `url`, `search`, `tel`)

* `min` и `max`: минимально и максимально допустимые значения. Для элемента `input` с типом `datetime-local`, `date`, `month`, `time`, `week`, `number`, `range`

* `pattern`: задает шаблон, которому должны соответствовать вводимые данные. Для элемента `input` с типом `text`, `password`, `email`, `url`, `search`, `tel`

Не всегда валидация является желаемой, иногда требуется ее отключить. И в этом случае мы можем использовать либо у элемента формы атрибут `novalidate`, либо у кнопки отправки атрибут `formnovalidate`.

### Элементы `fieldset` и `legend`

Для группировки элементов формы нередко применяется элемент `fieldset`. Он создает границу вокруг вложенных элементов, как бы создавая из них группу. Вместе с ним используется элемент `legend`, который устанавливает заголовок для группы элементов:

~~~
<form>
  <fieldset>
    <legend>Введите данные:</legend>
    <label for="login">Логин:</label><br>
    <input type="text" name="login" id="login" /><br>
    <label for="password">Пароль:</label><br>
    <input type="password" name="password" id="password" /><br>
    <input type="submit" value="Авторизация">
  </fieldset>
</form> 
~~~

`legend` необходимо использовать вместе с `fieldset` в парах в качестве заголовка группы.

### Отключение всей `<form>` в HTML

`form` не имеет атрибута `disabled`. Поэтому невозможно напрямую отключить всю HTML-форму, включая всех ее потомков.

К счастью, есть простой обходной путь: `fieldset`. Если этот элемент имеет атрибут `disabled`, все элементы управления дочерней формой также отключаются.
